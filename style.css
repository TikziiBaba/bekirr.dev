@import url("https://fonts.googleapis.com/css2?family=Geist:wght@100..900&display=swap");
@import url("https://unpkg.com/normalize.css") layer(normalize);
@layer normalize, base, components, utilities, text-effect, snap, responsive;

@layer base {

    html,
    body {
        min-height: 100vh;
        margin: 0;
        padding: 0;

        scroll-behavior: smooth;
        /* optional */
    }

    * {
        box-sizing: border-box;
    }

    body {
        margin: 0;
        font-family: "Geist", system-ui, sans-serif;
        background-color: #000;
        color: #fff;
    }

    body::before {
        content: "";
        position: fixed;
        inset: 0;
        z-index: -1;

        --dot-color: rgba(255, 255, 255, 0.15);
        --spacing: 24px;
        --dot-size: 1.5px;

        background-image: radial-gradient(var(--dot-color) var(--dot-size),
                transparent var(--dot-size));
        background-size: var(--spacing) var(--spacing);
        background-position: top left;
        background-repeat: repeat;

        mask-image: radial-gradient(circle at top left, #000 0%, transparent 75%);
        mask-size: 100% 100%;
        mask-repeat: no-repeat;
    }
}

@layer components {
    .no-offset {
        margin: 0;
    }

    .container {
        width: 100%;
        max-width: 1024px;
        padding: 0 16px;
        margin: 0 auto;
    }

    .hero {
        height: 100vh;
        display: flex;
        align-items: center;
    }

    .hero-text {
        font-size: clamp(4rem, 8vw, 8rem);
        font-weight: 800;
    }

    .hero-description {
        font-size: clamp(1rem, 3vw, 2rem);
        font-weight: 400;
        margin-top: 16px;
    }

    .list-text {
        font-size: clamp(2.5rem, 6vw, 6rem);
        font-weight: 600;
        position: sticky;
        top: calc(50% - 0.5lh);
        align-self: flex-start;
        /* this is important to make sticky work in a flex container */
        min-width: max-content;
    }

    .list {
        font-size: clamp(2.5rem, 6vw, 6rem);
        font-weight: 600;
        list-style-type: none;
        padding: 0;
    }

    .list li {
        scroll-snap-align: center;
        color: inherit;
    }

    .list li a {
        color: inherit;
        text-decoration: none;
        transition: opacity 0.3s;
    }

    .list li a:hover {
        opacity: 0.7;
    }

    .list-container {
        display: grid;
        grid-template-columns: auto 1fr;
        column-gap: 48px;
    }

    footer a {
        color: inherit;
        text-decoration: none;
    }

    /* Scroll Reveal Animation Styles */
    .reveal-container {
        width: 100vw;
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin-top: 10vh;
        /* Space after previous section */
        margin-bottom: 10vh;
        /* Space before next section */
    }

    .reveal-line {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        width: 100%;
    }

    .reveal-line span {
        font-size: clamp(3rem, 7vw, 7.5rem);
        /* Responsive font size */
        font-weight: 700;
        letter-spacing: -2px;
        /* Adjusted generic spacing */
        display: inline-block;
        overflow: hidden;
        white-space: nowrap;
    }

    .reveal-img-span {
        height: clamp(60px, 10vw, 110px);
        /* Responsive height */
        width: 0;
        border-radius: 5px;
        overflow: hidden;
        position: relative;
    }

    .reveal-img-span img {
        height: 100%;
        width: 300px;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        border-radius: 5px;
        object-fit: cover;
        object-position: center center;
    }

    /* Tech Stack Styles - Converted to Reveal Animation (reusing .reveal-line) */
    .tech-reveal-wrapper .reveal-img-span {
        border-radius: 50px;
        /* Pillow/Capsule shape */
    }

    .tech-reveal-wrapper .reveal-img-span img {
        object-fit: contain;
        /* Logos should not be cropped */
        background: #111;
        /* Dark background for logos */
        padding: 10px;
        /* Padding to let logos breathe */
    }

    .section-title {
        font-size: clamp(2rem, 5vw, 4rem);
        margin-bottom: 2rem;
        font-weight: 800;
        text-align: left;
        /* User requested left align */
        padding-left: 10px;
        /* Slight offset if needed */
    }

    /* Projects Showcase - Stacking Cards */
    .projects-section {
        padding: 5vh 5vw 20vh 5vw;
        /* Extra bottom padding to see last card */
        width: 100%;
        background: #000;
        overflow-x: hidden;
    }

    .cards-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 40px;
        /* Gap between cards logic controlled by sticky */
        padding-bottom: 100px;
    }

    .card {
        position: sticky;
        top: 20vh;
        /* Cards stick at 20% from top */
        width: clamp(300px, 90vw, 800px);
        height: 450px;
        /* Slightly taller */
        background-color: var(--bg-color, #222);
        border-radius: 20px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        padding: 2rem;
        box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.5);
        /* Shadow showing on top */
        border: 1px solid rgba(255, 255, 255, 0.05);
        transform-origin: top center;
        transition: transform 0.5s ease;
        overflow: hidden;
        /* Important for background image */
        isolation: isolate;
        /* Create stacking context */
    }

    /* Background Image Layer */
    .card-bg {
        position: absolute;
        inset: 0;
        background-image: var(--bg-image);
        background-size: cover;
        background-position: center;
        opacity: 0.3;
        /* Low opacity to let text pop */
        transition: opacity 0.5s ease, transform 0.5s ease;
        z-index: -1;
        filter: blur(2px) grayscale(50%);
        /* Artistic touch */
    }

    .card:hover .card-bg {
        opacity: 0.5;
        transform: scale(1.05);
        filter: blur(0) grayscale(0);
        /* Reveal full color on hover */
    }

    .card-content {
        position: relative;
        z-index: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
    }

    .card-content h3 {
        font-size: 3.5rem;
        margin: 0;
        font-weight: 800;
        text-shadow: 0 4px 10px rgba(0, 0, 0, 0.8);
    }

    .card-content p {
        font-size: 1.25rem;
        color: #ddd;
        max-width: 600px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    }

    .card-tags {
        display: flex;
        gap: 10px;
        margin-bottom: 1rem;
    }

    .card-tags span {
        background: rgba(255, 255, 255, 0.2);
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.9rem;
        font-weight: 600;
        backdrop-filter: blur(4px);
    }

    .card-content a {
        display: inline-block;
        padding: 12px 35px;
        background: #fff;
        color: #000;
        text-decoration: none;
        border-radius: 999px;
        font-weight: 700;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .card-content a:hover {
        transform: scale(1.05);
        background: #eee;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
    }

    /* =========================================
       Full Discord Interface Styles
       ========================================= */
    .discord-interface {
        width: 100%;
        max-width: 1000px;
        margin: 0 auto;
        background-color: #36393e;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        font-family: 'gg sans', 'Roboto', 'Helvetica Neue', sans-serif;
        text-align: left;
        /* Reset text align */
    }

    /* Channel Header */
    .discord-channel-header {
        background-color: #36393e;
        padding: 12px 16px;
        border-bottom: 1px solid #202225;
        display: flex;
        align-items: center;
        gap: 8px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
    }

    .d-hashtag {
        font-size: 24px;
        color: #8e9297;
        font-weight: 300;
    }

    .d-channel-name {
        color: #fff;
        font-weight: 700;
        font-size: 16px;
    }

    .d-channel-desc {
        color: #b9bbbe;
        font-size: 14px;
        margin-left: 8px;
        border-left: 1px solid #4f545c;
        padding-left: 12px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* Chat Area */
    .discord-chat-area {
        padding: 0 16px 20px 16px;
        display: flex;
        flex-direction: column;
        gap: 16px;
        /* Scroll inside if highly populated, but usually just flow */
    }

    .discord-message-group {
        display: flex;
        gap: 16px;
        margin-top: 16px;
        box-sizing: border-box;
    }

    .discord-message-group:hover {
        background-color: #32353b;
        margin-left: -16px;
        margin-right: -16px;
        padding-left: 16px;
        padding-right: 16px;
    }

    .discord-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-top: 2px;
        cursor: pointer;
        transition: opacity 0.2s;
    }

    .discord-avatar:hover {
        opacity: 0.8;
    }

    .discord-msg-content {
        flex: 1;
        min-width: 0;
    }

    .discord-header {
        display: flex;
        align-items: center;
        gap: 6px;
        margin-bottom: 2px;
    }

    .discord-username {
        color: #fff;
        font-weight: 500;
        font-size: 1rem;
        cursor: pointer;
    }

    .discord-username:hover {
        text-decoration: underline;
    }

    .discord-bot-tag {
        background: #5865F2;
        color: #fff;
        font-size: 0.625rem;
        padding: 0px 4px;
        border-radius: 3px;
        height: 15px;
        line-height: 15px;
        font-weight: 500;
        display: flex;
        align-items: center;
        margin-top: 1px;
    }

    .discord-bot-tag::after {
        content: "âœ“";
        margin-left: 1px;
        font-size: 8px;
    }

    .discord-timestamp {
        color: #72767d;
        font-size: 0.75rem;
        margin-left: 4px;
    }

    .discord-body {
        color: #dcddde;
        font-size: 1rem;
        line-height: 1.375rem;
        white-space: pre-wrap;
        font-weight: 400;
        margin-bottom: 4px;
        /* Slight spacing before embed */
    }

    /* Rich Embed Styles */
    .discord-embed {
        margin-top: 4px;
        background-color: #2f3136;
        border-left: 4px solid #202225;
        /* Default color, overridden inline */
        border-radius: 4px;
        padding: 16px;
        /* Discord uses slightly more padding */
        max-width: 520px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        box-sizing: border-box;
    }

    .embed-provider {
        font-size: 0.75rem;
        color: #dcddde;
        /* Provider is usually lighter */
        margin-bottom: 4px;
    }

    .embed-title {
        font-size: 1rem;
        font-weight: 600;
        margin-bottom: 4px;
    }

    .embed-title a {
        color: #00b0f4;
        /* Discord Link Blue */
        text-decoration: none;
    }

    .embed-title a:hover {
        text-decoration: underline;
    }

    .embed-desc {
        font-size: 0.875rem;
        color: #dcddde;
        line-height: 1.375rem;
        /* Standard Discord text line height */
    }

    .embed-desc strong {
        color: #fff;
        /* Strong text is white */
        font-weight: 700;
    }

    .embed-image {
        max-width: 100%;
        border-radius: 4px;
        margin-top: 12px;
        /* Margin for image */
        cursor: pointer;
    }

    .d-code-inline {
        background: #202225;
        padding: 2px 4px;
        border-radius: 3px;
        font-family: Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace;
        /* Discord code font stack */
        font-size: 0.85em;
    }
}

@layer text-effect {
    :root {
        --count: 15;
        --end: 360;
        --step: calc(var(--end) / var(--count));
    }

    .list li:not(:last-of-type) {
        color: oklch(65% 0.3 calc(var(--i) * var(--step)));
    }

    @supports (animation-timeline: scroll()) and (animation-range: 0% 100%) {
        .list li:first-of-type {
            --start-opacity: 1;
        }

        .list li:last-of-type {
            --end-opacity: 1;
        }

        .list li {
            opacity: 0.2;
            animation-name: brighten;
            animation-fill-mode: both;
            animation-timing-function: linear;

            animation-timeline: view();
            animation-range: cover calc(50% - 1lh) calc(50% + 1lh);
        }

        @keyframes brighten {
            0% {
                opacity: var(--start-opacity, 0.2);
            }

            50% {
                opacity: 1;
            }

            100% {
                opacity: var(--end-opacity, 0.2);
            }
        }
    }
}

@layer snap {
    /* Scroll snapping removed for smoother experience */
}

@layer responsive {
    @media (max-width: 600px) {
        .list-container {
            column-gap: 12px;
        }
    }
}
